#include "ADMIN_SCREEN.h"
#include "LOGIN.h"

System::Void CarDealership::ADMIN_SCREEN::Exit_button_Click(System::Object^ sender, System::EventArgs^ e)
{
    Application::Exit();
}

System::Void CarDealership::ADMIN_SCREEN::âûéòèToolStripMenuItem_Click(System::Object^ sender, System::EventArgs^ e)
{
    this->Hide(); LOGIN^ f = gcnew LOGIN; f->Show();
}

System::Void CarDealership::ADMIN_SCREEN::ìàðêóToolStripMenuItem_Click(System::Object^ sender, System::EventArgs^ e)
{
    button->Text = "Äîáàâèòü ìàðêó";
    label1->Visible = true;
    label2->Visible = true;
    label3->Visible = false;
    label4->Visible = false;
    label5->Visible = false;
    label6->Visible = false;
    label7->Visible = false;
    label8->Visible = false;
    label9->Visible = false;
    label10->Visible = false;
    label1->Text = "Íàçâàíèå";
    label2->Text = "Ñòðàíà";
    textBox1->Visible = true;
    textBox2->Visible = true;
    textBox3->Visible = false;
    textBox4->Visible = false;
    textBox5->Visible = false;
    textBox6->Visible = false;
    textBox7->Visible = false;
    textBox8->Visible = false;
    textBox9->Visible = false;
    textBox10->Visible = false;
    FillDataGridFromDatabase_Cars(dataGridView2);
}

System::Void CarDealership::ADMIN_SCREEN::àâòîìîáèëüToolStripMenuItem_Click(System::Object^ sender, System::EventArgs^ e)
{
    button->Text = "Äîáàâèòü àâòîìîáèëü";
    label1->Visible = true;
    label2->Visible = true;
    label3->Visible = true;
    label4->Visible = true;
    label5->Visible = true;
    label6->Visible = true;
    label7->Visible = true;
    label8->Visible = true;
    label9->Visible = true;
    label10->Visible = false;
    label1->Text = "Ìîäåëü";
    label2->Text = "ID ìàðêè";
    label3->Text = "Äàòà âûïóñêà";
    label4->Text = "Öåíà";
    label5->Text = "Ñòàòóñ";
    label6->Text = "Öâåò";
    label7->Text = "Òèï êóçîâà";
    label8->Text = "Òèï äâèãàòåëÿ";
    label9->Text = "Îáúåì äâèãàòåëÿ";
    textBox1->Visible = true;
    textBox2->Visible = true;
    textBox3->Visible = true;
    textBox4->Visible = true;
    textBox5->Visible = true;
    textBox6->Visible = true;
    textBox7->Visible = true;
    textBox8->Visible = true;
    textBox9->Visible = true;
    textBox10->Visible = false;
    FillDataGridFromDatabase_Cars(dataGridView2);
}

System::Void CarDealership::ADMIN_SCREEN::óñëóãóToolStripMenuItem_Click(System::Object^ sender, System::EventArgs^ e)
{
    button->Text = "Äîáàâèòü óñëóãó";
    label1->Visible = true;
    label2->Visible = true;
    label3->Visible = false;
    label4->Visible = false;
    label5->Visible = false;
    label6->Visible = false;
    label7->Visible = false;
    label8->Visible = false;
    label9->Visible = false;
    label10->Visible = false;
    label1->Text = "Îïèñàíèå";
    label2->Text = "Ñòîèìîñòü";
    textBox1->Visible = true;
    textBox2->Visible = true;
    textBox3->Visible = false;
    textBox4->Visible = false;
    textBox5->Visible = false;
    textBox6->Visible = false;
    textBox7->Visible = false;
    textBox8->Visible = false;
    textBox9->Visible = false;
    textBox10->Visible = false;
    FillDataGridFromDatabase_Cars(dataGridView2);
}

System::Void CarDealership::ADMIN_SCREEN::ìåíåäæåðàToolStripMenuItem_Click(System::Object^ sender, System::EventArgs^ e)
{
    button->Text = "Äîáàâèòü ìåíåäæåðà";
    label1->Visible = true;
    label2->Visible = true;
    label3->Visible = true;
    label4->Visible = true;
    label5->Visible = true;
    label6->Visible = false;
    label7->Visible = false;
    label8->Visible = false;
    label9->Visible = false;
    label10->Visible = false;
    label1->Text = "Èìÿ";
    label2->Text = "Ôàìèëèÿ";
    label3->Text = "Email";
    label4->Text = "Ïàðîëü";
    label5->Text = "Íîìåð òåëåôîíà";
    textBox1->Visible = true;
    textBox2->Visible = true;
    textBox3->Visible = true;
    textBox4->Visible = true;
    textBox5->Visible = true;
    textBox6->Visible = false;
    textBox7->Visible = false;
    textBox8->Visible = false;
    textBox9->Visible = false;
    textBox10->Visible = false;
    FillDataGridFromDatabase_Menegers(dataGridView2);
}

System::Void CarDealership::ADMIN_SCREEN::ìàðêóToolStripMenuItem1_Click(System::Object^ sender, System::EventArgs^ e)
{
    button->Text = "Èçìåíèòü ìàðêó";
    label1->Visible = true;
    label2->Visible = true;
    label3->Visible = true;
    label4->Visible = false;
    label5->Visible = false;
    label6->Visible = false;
    label7->Visible = false;
    label8->Visible = false;
    label9->Visible = false;
    label10->Visible = false;
    label1->Text = "ID";
    label2->Text = "Íàçâàíèå";
    label3->Text = "Ñòðàíà";
    textBox1->Visible = true;
    textBox2->Visible = true;
    textBox3->Visible = true;
    textBox4->Visible = false;
    textBox5->Visible = false;
    textBox6->Visible = false;
    textBox7->Visible = false;
    textBox8->Visible = false;
    textBox9->Visible = false;
    textBox10->Visible = false;
    FillDataGridFromDatabase_Cars(dataGridView2);
}

System::Void CarDealership::ADMIN_SCREEN::àâòîìîáèëüToolStripMenuItem1_Click(System::Object^ sender, System::EventArgs^ e)
{
    button->Text = "Èçìåíèòü àâòîìîáèëü";
    label1->Visible = true;
    label2->Visible = true;
    label3->Visible = true;
    label4->Visible = true;
    label5->Visible = true;
    label6->Visible = true;
    label7->Visible = true;
    label8->Visible = true;
    label9->Visible = true;
    label10->Visible = true;
    label1->Text = "ID";
    label2->Text = "Ìîäåëü";
    label3->Text = "ID ìàðêè";
    label4->Text = "Äàòà âûïóñêà";
    label5->Text = "Öåíà";
    label6->Text = "Ñòàòóñ";
    label7->Text = "Öâåò";
    label8->Text = "Òèï êóçîâà";
    label9->Text = "Òèï äâèãàòåëÿ";
    label10->Text = "Îáúåì äâèãàòåëÿ";
    textBox1->Visible = true;
    textBox2->Visible = true;
    textBox3->Visible = true;
    textBox4->Visible = true;
    textBox5->Visible = true;
    textBox6->Visible = true;
    textBox7->Visible = true;
    textBox8->Visible = true;
    textBox9->Visible = true;
    textBox10->Visible = true;
    FillDataGridFromDatabase_Cars(dataGridView2);
}

System::Void CarDealership::ADMIN_SCREEN::óñëóãóToolStripMenuItem1_Click(System::Object^ sender, System::EventArgs^ e)
{
    button->Text = "Èçìåíèòü óñëóãó";
    label1->Visible = true;
    label2->Visible = true;
    label3->Visible = true;
    label4->Visible = false;
    label5->Visible = false;
    label6->Visible = false;
    label7->Visible = false;
    label8->Visible = false;
    label9->Visible = false;
    label10->Visible = false;
    label1->Text = "ID";
    label2->Text = "Îïèñàíèå";
    label3->Text = "Ñòîèìîñòü";
    textBox1->Visible = true;
    textBox2->Visible = true;
    textBox3->Visible = true;
    textBox4->Visible = false;
    textBox5->Visible = false;
    textBox6->Visible = false;
    textBox7->Visible = false;
    textBox8->Visible = false;
    textBox9->Visible = false;
    textBox10->Visible = false;
    FillDataGridFromDatabase_Cars(dataGridView2);
}

System::Void CarDealership::ADMIN_SCREEN::ìåíåäæåðàToolStripMenuItem1_Click(System::Object^ sender, System::EventArgs^ e)
{
    button->Text = "Èçìåíèòü ìåíåäæåðà";
    label1->Visible = true;
    label2->Visible = true;
    label3->Visible = true;
    label4->Visible = true;
    label5->Visible = true;
    label6->Visible = true;
    label7->Visible = false;
    label8->Visible = false;
    label9->Visible = false;
    label10->Visible = false;
    label1->Text = "ID";
    label2->Text = "Èìÿ";
    label3->Text = "Ôàìèëèÿ";
    label4->Text = "Email";
    label5->Text = "Ïàðîëü";
    label6->Text = "Íîìåð òåëåôîíà";
    textBox1->Visible = true;
    textBox2->Visible = true;
    textBox3->Visible = true;
    textBox4->Visible = true;
    textBox5->Visible = true;
    textBox6->Visible = true;
    textBox7->Visible = false;
    textBox8->Visible = false;
    textBox9->Visible = false;
    textBox10->Visible = false;
    FillDataGridFromDatabase_Menegers(dataGridView2);
}

System::Void CarDealership::ADMIN_SCREEN::ìàðêóToolStripMenuItem2_Click(System::Object^ sender, System::EventArgs^ e)
{
    button->Text = "Óäàëèòü ìàðêó";
    label1->Visible = true;
    label2->Visible = false;
    label3->Visible = false;
    label4->Visible = false;
    label5->Visible = false;
    label6->Visible = false;
    label7->Visible = false;
    label8->Visible = false;
    label9->Visible = false;
    label10->Visible = false;
    label1->Text = "Íàçâàíèå";
    textBox1->Visible = true;
    textBox2->Visible = false;
    textBox3->Visible = false;
    textBox4->Visible = false;
    textBox5->Visible = false;
    textBox6->Visible = false;
    textBox7->Visible = false;
    textBox8->Visible = false;
    textBox9->Visible = false;
    textBox10->Visible = false;
    FillDataGridFromDatabase_Cars(dataGridView2);
}

System::Void CarDealership::ADMIN_SCREEN::àâòîìîáèëüToolStripMenuItem2_Click(System::Object^ sender, System::EventArgs^ e)
{
    button->Text = "Óäàëèòü àâòîìîáèëü";
    label1->Visible = true;
    label2->Visible = false;
    label3->Visible = false;
    label4->Visible = false;
    label5->Visible = false;
    label6->Visible = false;
    label7->Visible = false;
    label8->Visible = false;
    label9->Visible = false;
    label10->Visible = false;
    label1->Text = "ID";
    textBox1->Visible = true;
    textBox2->Visible = false;
    textBox3->Visible = false;
    textBox4->Visible = false;
    textBox5->Visible = false;
    textBox6->Visible = false;
    textBox7->Visible = false;
    textBox8->Visible = false;
    textBox9->Visible = false;
    textBox10->Visible = false;
    FillDataGridFromDatabase_Cars(dataGridView2);
}

System::Void CarDealership::ADMIN_SCREEN::óñëóãóToolStripMenuItem2_Click(System::Object^ sender, System::EventArgs^ e)
{
    button->Text = "Óäàëèòü óñëóãó";
    label1->Visible = true;
    label2->Visible = false;
    label3->Visible = false;
    label4->Visible = false;
    label5->Visible = false;
    label6->Visible = false;
    label7->Visible = false;
    label8->Visible = false;
    label9->Visible = false;
    label10->Visible = false;
    label1->Text = "ID";
    textBox1->Visible = true;
    textBox2->Visible = false;
    textBox3->Visible = false;
    textBox4->Visible = false;
    textBox5->Visible = false;
    textBox6->Visible = false;
    textBox7->Visible = false;
    textBox8->Visible = false;
    textBox9->Visible = false;
    textBox10->Visible = false;
    FillDataGridFromDatabase_Cars(dataGridView2);
}

System::Void CarDealership::ADMIN_SCREEN::ìåíåäæåðàToolStripMenuItem2_Click(System::Object^ sender, System::EventArgs^ e)
{
    button->Text = "Óäàëèòü ìåíåäæåðà";
    label1->Visible = true;
    label2->Visible = false;
    label3->Visible = false;
    label4->Visible = false;
    label5->Visible = false;
    label6->Visible = false;
    label7->Visible = false;
    label8->Visible = false;
    label9->Visible = false;
    label10->Visible = false;
    label1->Text = "ID";
    textBox1->Visible = true;
    textBox2->Visible = false;
    textBox3->Visible = false;
    textBox4->Visible = false;
    textBox5->Visible = false;
    textBox6->Visible = false;
    textBox7->Visible = false;
    textBox8->Visible = false;
    textBox9->Visible = false;
    textBox10->Visible = false;
    FillDataGridFromDatabase_Menegers(dataGridView2);
}

System::Void CarDealership::ADMIN_SCREEN::ADMIN_SCREEN_Load(System::Object^ sender, System::EventArgs^ e)
{
    FillDataGridFromDatabase_Marks(dataGridView1);
    FillDataGridFromDatabase_Cars(dataGridView2);
    FillDataGridFromDatabase_Service_uslugs(dataGridView3);
    //FillDataGridFromDatabase_Menegers();
}

System::Void CarDealership::ADMIN_SCREEN::button_Click(System::Object^ sender, System::EventArgs^ e)
{
    if (button->Text == "Äîáàâèòü ìàðêó")
    {
        InsertMarkToDatabase(textBox1->Text, textBox2->Text);
        Thread^ thread1 = gcnew Thread(gcnew ParameterizedThreadStart(this, &ADMIN_SCREEN::FillDataGridFromDatabase_Marks));
        thread1->Start(dataGridView1);
        Thread^ thread2 = gcnew Thread(gcnew ParameterizedThreadStart(this, &ADMIN_SCREEN::FillDataGridFromDatabase_Cars));
        thread2->Start(dataGridView2);
        Thread^ thread3 = gcnew Thread(gcnew ParameterizedThreadStart(this, &ADMIN_SCREEN::FillDataGridFromDatabase_Service_uslugs));
        thread3->Start(dataGridView3);
    }
    if (button->Text == "Äîáàâèòü àâòîìîáèëü")
    {
        InsertCarToDatabase(textBox1->Text, textBox2->Text, textBox3->Text, textBox4->Text, textBox5->Text, textBox6->Text, textBox7->Text, textBox8->Text, textBox9->Text);
        Thread^ thread1 = gcnew Thread(gcnew ParameterizedThreadStart(this, &ADMIN_SCREEN::FillDataGridFromDatabase_Marks));
        thread1->Start(dataGridView1);
        Thread^ thread2 = gcnew Thread(gcnew ParameterizedThreadStart(this, &ADMIN_SCREEN::FillDataGridFromDatabase_Cars));
        thread2->Start(dataGridView2);
        Thread^ thread3 = gcnew Thread(gcnew ParameterizedThreadStart(this, &ADMIN_SCREEN::FillDataGridFromDatabase_Service_uslugs));
        thread3->Start(dataGridView3);
    }
    if (button->Text == "Äîáàâèòü óñëóãó")
    {
        InsertService_uslugToDatabase(textBox1->Text, textBox2->Text);
        Thread^ thread1 = gcnew Thread(gcnew ParameterizedThreadStart(this, &ADMIN_SCREEN::FillDataGridFromDatabase_Marks));
        thread1->Start(dataGridView1);
        Thread^ thread2 = gcnew Thread(gcnew ParameterizedThreadStart(this, &ADMIN_SCREEN::FillDataGridFromDatabase_Cars));
        thread2->Start(dataGridView2);
        Thread^ thread3 = gcnew Thread(gcnew ParameterizedThreadStart(this, &ADMIN_SCREEN::FillDataGridFromDatabase_Service_uslugs));
        thread3->Start(dataGridView3);
    }
    if (button->Text == "Äîáàâèòü ìåíåäæåðà")
    {
        InsertMenegerToDatabase(textBox1->Text, textBox2->Text, textBox3->Text, textBox4->Text, textBox5->Text);
        FillDataGridFromDatabase_Menegers(dataGridView2);
    }
    if (button->Text == "Èçìåíèòü ìàðêó")
    {
        UpdateMark(Convert::ToInt16(textBox1->Text), textBox2->Text, textBox3->Text);
        Thread^ thread1 = gcnew Thread(gcnew ParameterizedThreadStart(this, &ADMIN_SCREEN::FillDataGridFromDatabase_Marks));
        thread1->Start(dataGridView1);
        Thread^ thread2 = gcnew Thread(gcnew ParameterizedThreadStart(this, &ADMIN_SCREEN::FillDataGridFromDatabase_Cars));
        thread2->Start(dataGridView2);
        Thread^ thread3 = gcnew Thread(gcnew ParameterizedThreadStart(this, &ADMIN_SCREEN::FillDataGridFromDatabase_Service_uslugs));
        thread3->Start(dataGridView3);
    }
    if (button->Text == "Èçìåíèòü àâòîìîáèëü")
    {
        UpdateCar(Convert::ToInt16(textBox1->Text), textBox2->Text, Convert::ToInt16(textBox3->Text), Convert::ToDateTime(textBox4->Text), Convert::ToSingle(textBox5->Text), textBox6->Text, textBox7->Text, textBox8->Text, textBox9->Text, Convert::ToSingle(textBox10->Text));
        Thread^ thread1 = gcnew Thread(gcnew ParameterizedThreadStart(this, &ADMIN_SCREEN::FillDataGridFromDatabase_Marks));
        thread1->Start(dataGridView1);
        Thread^ thread2 = gcnew Thread(gcnew ParameterizedThreadStart(this, &ADMIN_SCREEN::FillDataGridFromDatabase_Cars));
        thread2->Start(dataGridView2);
        Thread^ thread3 = gcnew Thread(gcnew ParameterizedThreadStart(this, &ADMIN_SCREEN::FillDataGridFromDatabase_Service_uslugs));
        thread3->Start(dataGridView3);
    }
    if (button->Text == "Èçìåíèòü óñëóãó")
    {
        UpdateService_uslugs(Convert::ToInt16(textBox1->Text), textBox2->Text, Convert::ToSingle(textBox3->Text));
        Thread^ thread1 = gcnew Thread(gcnew ParameterizedThreadStart(this, &ADMIN_SCREEN::FillDataGridFromDatabase_Marks));
        thread1->Start(dataGridView1);
        Thread^ thread2 = gcnew Thread(gcnew ParameterizedThreadStart(this, &ADMIN_SCREEN::FillDataGridFromDatabase_Cars));
        thread2->Start(dataGridView2);
        Thread^ thread3 = gcnew Thread(gcnew ParameterizedThreadStart(this, &ADMIN_SCREEN::FillDataGridFromDatabase_Service_uslugs));
        thread3->Start(dataGridView3);
    }
    if (button->Text == "Èçìåíèòü ìåíåäæåðà")
    {
        UpdateMeneger(Convert::ToInt16(textBox1->Text), textBox2->Text, textBox3->Text, textBox4->Text, textBox5->Text, textBox6->Text);
        FillDataGridFromDatabase_Menegers(dataGridView2);
    }
    if (button->Text == "Óäàëèòü ìàðêó")
    {
        DeleteMarkFromDatabase(textBox1->Text);
        Thread^ thread1 = gcnew Thread(gcnew ParameterizedThreadStart(this, &ADMIN_SCREEN::FillDataGridFromDatabase_Marks));
        thread1->Start(dataGridView1);
        Thread^ thread2 = gcnew Thread(gcnew ParameterizedThreadStart(this, &ADMIN_SCREEN::FillDataGridFromDatabase_Cars));
        thread2->Start(dataGridView2);
        Thread^ thread3 = gcnew Thread(gcnew ParameterizedThreadStart(this, &ADMIN_SCREEN::FillDataGridFromDatabase_Service_uslugs));
        thread3->Start(dataGridView3);
    }
    if (button->Text == "Óäàëèòü àâòîìîáèëü")
    {
        DeleteCarFromDatabase(Convert::ToInt16(textBox1->Text));
        Thread^ thread1 = gcnew Thread(gcnew ParameterizedThreadStart(this, &ADMIN_SCREEN::FillDataGridFromDatabase_Marks));
        thread1->Start(dataGridView1);
        Thread^ thread2 = gcnew Thread(gcnew ParameterizedThreadStart(this, &ADMIN_SCREEN::FillDataGridFromDatabase_Cars));
        thread2->Start(dataGridView2);
        Thread^ thread3 = gcnew Thread(gcnew ParameterizedThreadStart(this, &ADMIN_SCREEN::FillDataGridFromDatabase_Service_uslugs));
        thread3->Start(dataGridView3);
    }
    if (button->Text == "Óäàëèòü óñëóãó")
    {
        DeleteService_uslugFromDatabase(Convert::ToInt16(textBox1->Text));
        Thread^ thread1 = gcnew Thread(gcnew ParameterizedThreadStart(this, &ADMIN_SCREEN::FillDataGridFromDatabase_Marks));
        thread1->Start(dataGridView1);
        Thread^ thread2 = gcnew Thread(gcnew ParameterizedThreadStart(this, &ADMIN_SCREEN::FillDataGridFromDatabase_Cars));
        thread2->Start(dataGridView2);
        Thread^ thread3 = gcnew Thread(gcnew ParameterizedThreadStart(this, &ADMIN_SCREEN::FillDataGridFromDatabase_Service_uslugs));
        thread3->Start(dataGridView3);
    }
    if (button->Text == "Óäàëèòü ìåíåäæåðà")
    {
        DeleteMenegerFromDatabase(Convert::ToInt16(textBox1->Text));
        FillDataGridFromDatabase_Menegers(dataGridView2);
    }
}
